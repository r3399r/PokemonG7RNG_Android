package com.yue.pokemong7rngtool;

public class MagikarpMethod {

    private static long[] invlist = {2473900082L, 2942504091L, 3818669108L, 1606527666L, 1772516849L, 3174816280L,
            683688538L, 277162350L, 473687804L, 740538931L, 3736879421L, 835125771L, 3151130313L, 1776424681L,
            2916316050L, 575335318L, 3885816110L, 2116212291L, 4141956358L, 708008661L, 823646635L, 3736594918L,
            3120921304L, 784816472L, 3366030512L, 3882469154L, 3488037232L, 752048312L, 624451139L, 1398287391L,
            1029721010L, 770413716L, 1018556670L, 879841532L, 712647539L, 762054526L, 2610508113L, 50304285L,
            3116021802L, 757285885L, 2923570824L, 794104193L, 1870515017L, 1562607165L, 213913665L, 3737913320L,
            861924223L, 818185013L, 1749703937L, 2837816915L, 3260431184L, 1266283868L, 2012331341L, 385053804L,
            2631067532L, 1720507012L, 2399487432L, 509823408L, 3336276253L, 1075187703L, 1755174278L, 4202260471L,
            401384863L, 854806887L, 117832076L, 1244737751L, 3867891395L, 2107748563L, 1825531558L, 2821190438L,
            799899723L, 40378920L, 91535201L, 3966590345L, 4092719438L, 1900287555L, 142908880L, 2428594453L,
            4042839341L, 1281809005L, 989575564L, 874922772L, 237853366L, 1758650419L, 1342665097L, 412170985L,
            1878138301L, 946446765L, 3504591644L, 1125413999L, 1860175504L, 1025039160L, 2500255679L, 2335259963L,
            1352982241L, 179375243L, 1089117350L, 3530218584L, 3215437663L, 354565024L, 8592345L, 1528631731L,
            3476679081L, 1164300025L, 1229107172L, 1450554931L, 2722277174L, 1110953626L, 3833382903L, 191067075L,
            3406461685L, 775272281L, 1074480033L, 2166892811L, 824773512L, 810401547L, 2405166556L, 4108578124L,
            78872491L, 897376497L, 2611178662L, 1239191693L, 1563762183L, 917726769L, 3188967975L, 3540666864L,
            716535587L, 1741755719L, 3545033698L, 2054665264L, 1367377077L, 554324700L, 947375608L, 1481077862L,
            3178791546L, 1670251543L, 2007293330L, 3552849363L, 1537664804L, 1150670637L, 3476664924L, 4232424583L,
            3988945420L, 1416017323L, 1647293270L, 3178222540L, 1946875313L, 1569632945L, 2437093728L, 3469971013L,
            2681107169L, 1504096625L, 1248902278L, 2796574782L, 2059442020L, 1540827432L, 2037113340L, 1759683064L,
            1425295078L, 1524109052L, 926048930L, 100608571L, 1937076308L, 1514571771L, 3296655187L, 3546706884L,
            863398360L, 1645526104L, 427827330L, 3180859344L, 1723848447L, 1636370026L, 1215168577L, 3750173793L,
            1763805675L, 1319217819L, 1998176473L, 2687154207L, 3559403602L, 357299499L, 2263888339L, 2970272678L,
            1614474608L, 1484677069L, 3510348556L, 4109553646L, 802769727L, 1709613774L, 2532395355L, 430846313L,
            547050188L, 588325253L, 3651063116L, 1347413580L, 1599799447L, 80757840L, 2450773121L, 1427565525L,
            174988759L, 987393189L, 2314437091L, 2890826477L, 209474833L, 1084224761L, 3977103707L, 3850426095L,
            4057418278L, 167215172L, 2685330194L, 824341970L, 3756276602L, 1892893530L, 2714215992L, 2250827999L,
            3720351008L, 2050078320L, 705544062L, 375552631L, 2705964483L, 358750486L, 2178234700L, 2765469872L,
            2135908031L, 709130049L, 2583465457L, 1006007201L, 1946037272L, 1385815505L, 176153995L, 556219553L,
            2835919142L, 1547558167L, 3371798510L, 382134151L, 2517956074L, 1550544563L, 2148960066L, 38818326L,
            1649547025L, 1620803094L, 515365816L, 3922188953L, 157744983L, 1794752994L, 927390028L, 2478383387L,
            3127524366L, 1835453538L, 1964359054L, 1346034676L, 2773909860L, 700941478L, 3839700493L, 735626022L,
            3102150925L, 401631916L, 2795100102L, 4109330529L, 2734754154L, 1108649400L, 3893698993L, 1027782667L,
            2541550526L, 525223949L, 2008220005L, 709102433L, 1522544899L, 1366945400L, 109698811L, 1967589832L,
            906562387L, 1889479541L, 1554373869L, 4145280863L, 93852713L, 1666131264L, 3128723585L, 275467340L,
            3524336265L, 1797202625L, 203146061L, 3232555195L, 403493251L, 1878790770L, 1781365177L, 1544098615L,
            1147499142L, 1843551706L, 4137582343L, 2251424945L, 191307746L, 1826574292L, 268915941L, 721467214L,
            2338401531L, 477837458L, 2885352263L, 4143730535L, 552751797L, 457198838L, 136755907L, 851601413L,
            1070525597L, 1158747412L, 3996352946L, 1079341118L, 2823839909L, 714598999L, 2501564901L, 4024031114L,
            771237291L, 1756299192L, 982379611L, 1680461594L, 2990500149L, 329188798L, 769823414L, 861692627L,
            1094100376L, 1176650506L, 3007158936L, 2694827161L, 3199598894L, 161515680L, 606578946L, 2855131051L,
            349977518L, 1974786378L, 2333981061L, 3578877212L, 4118107497L, 1500359120L, 3659240116L, 3405884895L,
            3819869261L, 334430345L, 3639049317L, 4018715490L, 1380288958L, 972342935L, 3681941041L, 2174583160L,
            1443751179L, 741420227L, 1411088124L, 751105262L, 1116961670L, 717500973L, 61502106L, 1235972449L,
            4271816063L, 1418260098L, 2869141923L, 4196448132L, 175220602L, 2103573376L, 2349166935L, 3481414021L,
            3214712070L, 1613363725L, 151627165L, 2688655304L, 3248755870L, 1619303749L, 2564273351L, 2305619178L,
            690606440L, 426032142L, 2778008883L, 1581508085L, 4282384869L, 228705254L, 4134996187L, 2864583409L,
            2572781399L, 44030183L, 3928718110L, 2692069352L, 1252852424L, 1401882957L, 1L, 0L, 0L, 0L, 3384433691L,
            1471252045L, 1909334554L, 803263833L, 2399662560L, 2629831378L, 970820529L, 744125624L, 1092768064L,
            3754258272L, 1688169390L, 1248988627L, 738259208L, 885499746L, 404872949L, 2087045765L, 2031267564L,
            3083270710L, 1148220857L, 1703938405L, 847006446L, 913105124L, 3349198489L, 1747865903L, 578670128L,
            2053355957L, 3972263609L, 1850521331L, 2125583562L, 268241833L, 90017996L, 1831731184L, 1468567086L,
            2819963541L, 2267829336L, 1823652772L, 363162750L, 4099622620L, 2679817004L, 1818841925L, 2249959179L,
            3340825919L, 1535173577L, 1411368137L, 3596033508L, 2251742675L, 2742303311L, 1295203879L, 1958457448L,
            3596592091L, 3921313929L, 96698672L, 1528154909L, 3356264983L, 1323067591L, 400362618L, 2668236031L,
            3995697128L, 3101118453L, 301039348L, 3201968686L, 409582246L, 3362395725L, 106945160L, 4233350850L,
            584829829L, 1435638997L, 1459112914L, 645200406L, 3532961495L, 1516108368L, 886087888L, 3752981930L,
            1008493437L, 3454359604L, 1816374276L, 1090702313L, 861940306L, 1594889588L, 120099015L, 3296730094L,
            2799302710L, 4103433748L, 774330099L, 1753424047L, 938918950L, 3820525977L, 1911406474L, 2747315801L,
            1464726844L, 3459912739L, 1345512790L, 1039859072L, 2167202280L, 3918542128L, 1980369378L, 4151342478L,
            2151339220L, 1513485344L, 481681366L, 3917053545L, 630242658L, 1721643573L, 615328433L, 3335491080L,
            1286254886L, 2848112514L, 2034859771L, 958332647L, 1560750903L, 1067855707L, 1064332801L, 912629385L,
            1358559522L, 2785159069L, 452496319L, 907929832L, 3094959793L, 1656824911L, 882836262L, 885899102L,
            4214721172L, 735070359L, 1456444715L};

    public static int[] calc(String inlist) {

        int[] list = {0, 0, 0, 0};
        for (int k = 0; k < 4; k++) {
            int t = 1;
            for (int i = 0; i < 32; i++) {
                if (i + k * 32 == 127)
                    break;
                if (inlist.charAt(i + k * 32) == '1')
                    list[k] ^= t;
                t <<= 1;
            }
        }
        return mul(list);
    }

    private static int[] mul(int[] vec) {
        int[] tarr = new int[4];
        int[] result = new int[4];
        int t = 1, c = 0;
        for (int i = 0; i < 127; i++) {
            if (i == 31 || i == 63 || i == 95) {
                t = 1;
                c++;
            }
            for (int k = 0; k < 4; k++) {
                tarr[k] = (int) (invlist[i * 4 + k] & 0xFFFFFFFF) & vec[k];
                while (tarr[k] != 0) {
                    if ((tarr[k] & 1) == 1)
                        result[c] ^= t;
                    tarr[k] = tarr[k] >>> 1;
                }
            }
            t = t << 1;
        }
        return result;
    }
}
